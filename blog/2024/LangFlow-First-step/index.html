<!DOCTYPE html> <html lang="en-uk"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Utilizing Langflow to generate a Chat-bot | Youssef Al Hariri </title> <meta name="author" content="Youssef Al Hariri"> <meta name="description" content="AI-based Chat-bot using Langflow 1"> <meta name="keywords" content="academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%96%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://yalhariri.github.io/blog/2024/LangFlow-First-step/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/img-comparison-slider@8.0.6/dist/styles.min.css"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11.0.5/swiper-bundle.min.css" integrity="sha256-yUoNxsvX+Vo8Trj3lZ/Y5ZBf8HlBFsB6Xwm7rH75/9E=" crossorigin="anonymous"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Youssef Al Hariri </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Modawenah </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item active"> <a class="nav-link" href="/ar-sa/blog/2024/LangFlow-First-step/"> <span class="fi fi-sa"></span> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post" dir="ltr" align="left"> <header class="post-header"> <h1 class="post-title">Utilizing Langflow to generate a Chat-bot</h1> <p class="post-meta"> May 27, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/informatics"> <i class="fa-solid fa-hashtag fa-sm"></i> Informatics,</a>   <a href="/blog/tag/llms"> <i class="fa-solid fa-hashtag fa-sm"></i> LLMs</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Artificial intelligence tools including Langflow facilitate the creation of AI-based applications, including the automated dialogue program, aka chat-bots. Hereby, I summarize the steps to implement this using Langflow library.</p> <p>Taken into consideration performing the following:</p> <p>1- Conda virtual environment with Python==3.10</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create -n langflow python==3.10
conda activate langflow 
</code></pre></div></div> <p>2- Ollama serve is installed and running in your machine with the model llama3 pulled.</p> <h2 id="installing">Installing</h2> <p>To install the Langflow, we are going to utilize the <code class="language-plaintext highlighter-rouge">pre released version</code> by using the following command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m pip install langflow --pre --force-reinstall
</code></pre></div></div> <p>After installing it, we need to run it as explained in the following point.</p> <h2 id="running-the-server">Running the server:</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python -m langflow run
</code></pre></div></div> <p>After running the langflow serve, we can access it from the web-based interface. The default link and port of the service is: <code class="language-plaintext highlighter-rouge">http://127.0.0.1:7860</code>.</p> <h2 id="creating-a-new-project">Creating a new project:</h2> <p>As a start point, let us create a new project. To do so, click on the New Project button.</p> <div style="text-align:center"><video src="https://raw.githubusercontent.com/yalhariri/yalhariri.github.io/main/_posts/assets/Langflow_creatingNewProject.mp4" controls="controls" style="max-width: 800px;"> </video></div> <h2 id="adding-the-chat-bot-components">Adding the chat-bot components:</h2> <p>Langflow provides many options for the inputs, models and outputs. In this introduction example, we will use the Ollama model, with model llama3, and the text input with specifying the context by using the prompt component.</p> <p>From the Core Component list, we then can add the following components:</p> <h3 id="1--inputs--chat-input">1- Inputs .. Chat input.</h3> <p>Add the Chat input component.</p> <h3 id="2--inputs--prompt">2- Inputs .. Prompt.</h3> <p>After adding the prompt, you need to configure the prompt’s feature. To perform that, you need to add the template with the desired configurations. In our example, we add the context and the question. To do that, click on template and type in the following lines:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Please answer the question within the context provided.

Context:{context}

Question:{question}
</code></pre></div></div> <p>This will create two inputs: the context and question. The input of the question is the output of the Chat input, to perform that you need to wire the output of the chat input to the question input of the prompt. While the context is a description sentence which you need to add to describe the context of the question, so the model generates a coherent and relevant response for each question.</p> <h3 id="3--models--ollama---llama3-the-mode-llama3-should-be-pulled-in-into-your-system">3- Models .. Ollama - llama3 (the mode llama3 should be pulled in into your system.)</h3> <p>Before making it functional, Ollama service must be up in your machine, and the llama3 model should be pulled. Next, from the Models core component list, add Ollama, and configure the model name to llama3. Finally, it may require adding the Base URL for the model. To perform that, from the Ollama component in the canvas, click on the three dots (…), and then select Advanced. Finally add the Base URL. The default settings for the Ollama is <code class="language-plaintext highlighter-rouge">http://localhost:11434</code></p> <h3 id="4--outputs--chat-output">4- Outputs .. Chat output.</h3> <p>This component print out the resulted text from the models to the user.</p> <p>After completing the four steps above, click on the Playground to try the chat-bot.</p> <p>At the end, the components in the canvas should look like the following picture.</p> <div style="text-align:center"><img src="https://raw.githubusercontent.com/yalhariri/yalhariri.github.io/main/_posts/assets/chat_bot.png" width="800px" alt="Langflow sample Chat-bot"></div> <p>You can try the following two examples of the context:</p> <p>Example 1:</p> <blockquote> <p>Explain your answer in the same language of user questions. Make your answer clear, concise, and to the point.</p> </blockquote> <p>Example 2:</p> <blockquote> <p>You are a professional interpreter. You receive the sentences from the user, identify the language, and then translate them into English and send them back to the user. In case of ambiguity, provide both translations.</p> </blockquote> <h2 id="conclusion">Conclusion</h2> <p>This example shows how to generate a chat-bot that uses Llama3 model. Langflow provides a large library of models including Amazon Bedrock, Azure OpenAI, Hugging Face API … etc. It also provides other functionalities including helpers such as chat memories, import URLs as a context, and vector stores and searches … etc.</p> <h2 id="extra-resources">Extra resources:</h2> <p>1- https://www.youtube.com/watch?v=RWo4GDTZIsE</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/integrity/">Scientific integrity</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/happiness2/">Is it really life is a choice and happiness is a decision 2?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/HabitsStacking/">Habits stacking</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/virtualEnvironments/">Adding Virtual Environment</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/happiness1/">Is it really life is a choice and happiness is a decision?</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Youssef Al Hariri. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/george-gca/multi-language-al-folio" rel="external nofollow noopener" target="_blank">multi-language-al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: July 22, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?5d75c11f89cd96294bf5e6dd1ee1bb30"></script> <script defer src="/assets/js/common.js?fcfacfb8c6281f5e68d5a7d348186eb1"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script defer src="https://cdn.jsdelivr.net/npm/img-comparison-slider@8.0.6/dist/index.min.js"></script> <script defer src="https://cdn.jsdelivr.net/npm/swiper@11.0.5/swiper-element-bundle.min.js" integrity="sha256-BPrwikijIybg9OQC5SYFFqhBjERYOn97tCureFgYH1E=" crossorigin="anonymous"></script> </body> </html>